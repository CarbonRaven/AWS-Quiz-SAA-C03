{
  "id": 980,
  "topic": "Topic 1",
  "question": "A company hosts its application on several Amazon EC2 instances inside a VPC. The company creates a dedicated Amazon S3 bucket for each customer to store their relevant information in Amazon S3.\n\nThe company wants to ensure that the application running on EC2 instances can securely access only the S3 buckets that belong to the company's AWS account.\n\nWhich solution will meet these requirements with the LEAST operational overhead?",
  "options": {
    "A": "Create a gateway endpoint for Amazon S3 that is attached to the VPC. Update the IAM instance profile policy to provide access to only the specific buckets that the application needs.",
    "B": "Create a NAT gateway in a public subnet with a security group that allows access to only Amazon S3. Update the route tables to use the NAT Gateway.",
    "C": "Create a gateway endpoint for Amazon S3 that is attached to the VPC. Update the IAM instance profile policy with a Deny action and the aws:ResourceAccount condition key.",
    "D": "Create a NAT Gateway in a public subnet. Update route tables to use the NAT Gateway. Assign bucket policies for all buckets with a Deny action and the aws:ResourceAccount condition key."
  },
  "correct_answer": "C",
  "explanation": "A VPC gateway endpoint for S3 provides private access without internet. Using aws:ResourceAccount condition key in a Deny policy ensures EC2 instances can only access S3 buckets in the company's own AWS account, preventing access to external buckets with minimal overhead."
}
